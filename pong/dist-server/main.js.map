{"version":3,"sources":["../src/main.js"],"names":["PORT","process","env","INDEX","path","join","__dirname","require","app","BrowserWindow","createWindow","win","width","height","loadFile","on","server","get","req","res","sendFile","use","express","static","requestHandler","listen","console","log","io","gameEngine","Game","traceLevel","Lib","Trace","TRACE_ALL","serverEngine","ServerEngine","debug","updateRate","start"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;;AACA,IAAMG,KAAK,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,oBAArB,CAAd;;eAE6BC,OAAO,CAAC,UAAD,C;IAA7BC,G,YAAAA,G;IAAKC,a,YAAAA,a;;AACZ,SAASC,YAAT,GAAyB;AACvB;AACFC,EAAAA,GAAG,GAAG,IAAIF,aAAJ,CAAkB;AAACG,IAAAA,KAAK,EAAE,GAAR;AAAaC,IAAAA,MAAM,EAAE;AAArB,GAAlB,CAAN,CAFyB,CAIzB;;AACAF,EAAAA,GAAG,CAACG,QAAJ,CAAaX,KAAb;AAAuB;;AACvBK,GAAG,CAACO,EAAJ,CAAO,OAAP,EAAgBL,YAAhB,E,CAEA;;AACA,IAAMM,MAAM,GAAG,uBAAf;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAAEA,EAAAA,GAAG,CAACC,QAAJ,CAAajB,KAAb;AAAsB,CAA3D;AACAa,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgBC,iBAAQC,MAAR,CAAenB,cAAKC,IAAL,CAAUC,SAAV,EAAqB,UAArB,CAAf,CAAhB;AACA,IAAIkB,cAAc,GAAGR,MAAM,CAACS,MAAP,CAAczB,IAAd,EAAoB;AAAA,SAAM0B,OAAO,CAACC,GAAR,wBAA6B3B,IAA7B,EAAN;AAAA,CAApB,CAArB;AACA,IAAM4B,EAAE,GAAG,qBAASJ,cAAT,CAAX,C,CAEA;;AACA,IAAMK,UAAU,GAAG,IAAIC,aAAJ,CAAS;AAAEC,EAAAA,UAAU,EAAEC,aAAIC,KAAJ,CAAUC;AAAxB,CAAT,CAAnB;AACA,IAAMC,YAAY,GAAG,IAAIC,qBAAJ,CAAiBR,EAAjB,EAAqBC,UAArB,EAAiC;AAAEQ,EAAAA,KAAK,EAAE,EAAT;AAAaC,EAAAA,UAAU,EAAE;AAAzB,CAAjC,CAArB,C,CAEA;;AACAH,YAAY,CAACI,KAAb","sourcesContent":["import path from 'path';\r\nimport express from 'express';\r\nimport socketIO from 'socket.io';\r\nimport { Lib, ServerEngine } from 'lance-gg';\r\nimport Game from './common/Game';\r\n\r\nconst PORT = process.env.PORT || 3000;\r\nconst INDEX = path.join(__dirname, '../dist/index.html');\r\n\r\nconst {app, BrowserWindow} = require('electron')      \r\nfunction createWindow () {   \r\n  // Create the browser window.     \r\nwin = new BrowserWindow({width: 800, height: 600}) \r\n       \r\n// and load the index.html of the app.\r\nwin.loadFile(INDEX)   }      \r\napp.on('ready', createWindow)\r\n\r\n// define routes and socket\r\nconst server = express();\r\nserver.get('/', function(req, res) { res.sendFile(INDEX); });\r\nserver.use('/', express.static(path.join(__dirname, '../dist/')));\r\nlet requestHandler = server.listen(PORT, () => console.log(`Listening on ${ PORT }`));\r\nconst io = socketIO(requestHandler);\r\n\r\n// Game Instances\r\nconst gameEngine = new Game({ traceLevel: Lib.Trace.TRACE_ALL });\r\nconst serverEngine = new ServerEngine(io, gameEngine, { debug: {}, updateRate: 6 });\r\n\r\n// start the game\r\nserverEngine.start();\r\n"],"file":"main.js"}